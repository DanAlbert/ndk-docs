<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>NDK API: multinetwork.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">NDK API
   
   </div>
   
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">multinetwork.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;netdb.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;sys/cdefs.h&gt;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multinetwork_8h.html#a024c1ea9886de310e72099531704b7b3">NETWORK_UNSPECIFIED</a>&#160;&#160;&#160;((<a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a>)0)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multinetwork_8h.html#a8e95aa1b80cd9fbe74c6e30dfe366e73">android_setsocknetwork</a> (<a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a> network, int fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multinetwork_8h.html#a5681d790b3db186dbf5e0e0e3b120318">android_setprocnetwork</a> (<a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a> network)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multinetwork_8h.html#a0ae9e15612e6411855e295476a98ceee">android_getaddrinfofornetwork</a> (<a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a> network, const char *node, const char *service, const struct addrinfo *hints, struct addrinfo **res)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__BEGIN_DECLS typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a024c1ea9886de310e72099531704b7b3"></a><!-- doxytag: member="multinetwork.h::NETWORK_UNSPECIFIED" ref="a024c1ea9886de310e72099531704b7b3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="multinetwork_8h.html#a024c1ea9886de310e72099531704b7b3">NETWORK_UNSPECIFIED</a>&#160;&#160;&#160;((<a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a>)0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The value NETWORK_UNSPECIFIED indicates no specific network.</p>
<p>For some functions (documented below), a previous binding may be cleared by an invocation with NETWORK_UNSPECIFIED.</p>
<p>Depending on the context it may indicate an error. It is expressly not used to indicate some notion of the "current default network". </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a0ae9e15612e6411855e295476a98ceee"></a><!-- doxytag: member="multinetwork.h::android_getaddrinfofornetwork" ref="a0ae9e15612e6411855e295476a98ceee" args="(net_handle_t network, const char *node, const char *service, const struct addrinfo *hints, struct addrinfo **res)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="multinetwork_8h.html#a0ae9e15612e6411855e295476a98ceee">android_getaddrinfofornetwork</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a>&#160;</td>
          <td class="paramname"><em>network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct addrinfo *&#160;</td>
          <td class="paramname"><em>hints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct addrinfo **&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform hostname resolution via the DNS servers associated with |network|.</p>
<p>All arguments (apart from |network|) are used identically as those passed to getaddrinfo(3). Return and error values are identical to those of getaddrinfo(3), and in particular gai_strerror(3) can be used as expected. Similar to getaddrinfo(3):</p>
<ul>
<li>|hints| may be NULL (in which case man page documented defaults apply)</li>
<li>either |node| or |service| may be NULL, but not both</li>
<li>|res| must not be NULL</li>
</ul>
<p>This is the equivalent of:</p>
<p>[ android.net.Network::getAllByName() ] <a href="https://developer.android.com/reference/android/net/Network.html#getAllByName(java.lang.String)">https://developer.android.com/reference/android/net/Network.html#getAllByName(java.lang.String)</a> </p>

</div>
</div>
<a class="anchor" id="a5681d790b3db186dbf5e0e0e3b120318"></a><!-- doxytag: member="multinetwork.h::android_setprocnetwork" ref="a5681d790b3db186dbf5e0e0e3b120318" args="(net_handle_t network)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="multinetwork_8h.html#a5681d790b3db186dbf5e0e0e3b120318">android_setprocnetwork</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a>&#160;</td>
          <td class="paramname"><em>network</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Binds the current process to |network|. All sockets created in the future (and not explicitly bound via <a class="el" href="multinetwork_8h.html#a8e95aa1b80cd9fbe74c6e30dfe366e73">android_setsocknetwork()</a>) will be bound to |network|. All host name resolutions will be limited to |network| as well. Note that if the network identified by |network| ever disconnects, all sockets created in this way will cease to work and all host name resolutions will fail. This is by design so an application doesn't accidentally use sockets it thinks are still bound to a particular network.</p>
<p>To clear a previous process binding invoke with NETWORK_UNSPECIFIED.</p>
<p>This is the equivalent of:</p>
<p>[ android.net.ConnectivityManager::setProcessDefaultNetwork() ] <a href="https://developer.android.com/reference/android/net/ConnectivityManager.html#setProcessDefaultNetwork(android.net.Network)">https://developer.android.com/reference/android/net/ConnectivityManager.html#setProcessDefaultNetwork(android.net.Network)</a> </p>

</div>
</div>
<a class="anchor" id="a8e95aa1b80cd9fbe74c6e30dfe366e73"></a><!-- doxytag: member="multinetwork.h::android_setsocknetwork" ref="a8e95aa1b80cd9fbe74c6e30dfe366e73" args="(net_handle_t network, int fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="multinetwork_8h.html#a8e95aa1b80cd9fbe74c6e30dfe366e73">android_setsocknetwork</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a>&#160;</td>
          <td class="paramname"><em>network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>All functions below that return an int return 0 on success or -1 on failure with an appropriate errno value set. Set the network to be used by the given socket file descriptor.</p>
<p>To clear a previous socket binding invoke with NETWORK_UNSPECIFIED.</p>
<p>This is the equivalent of:</p>
<p>[ android.net.Network::bindSocket() ] <a href="https://developer.android.com/reference/android/net/Network.html#bindSocket(java.net.Socket)">https://developer.android.com/reference/android/net/Network.html#bindSocket(java.net.Socket)</a> </p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ad72bd57ce1525d75ccd945ce82b0038a"></a><!-- doxytag: member="multinetwork.h::net_handle_t" ref="ad72bd57ce1525d75ccd945ce82b0038a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__BEGIN_DECLS typedef uint64_t <a class="el" href="multinetwork_8h.html#ad72bd57ce1525d75ccd945ce82b0038a">net_handle_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The corresponding C type for android.net.Network::getNetworkHandle() return values. The Java signed long value can be safely cast to a net_handle_t:</p>
<p>[C] ((net_handle_t) java_long_network_handle) [C++] static_cast&lt;net_handle_t&gt;(java_long_network_handle)</p>
<p>as appropriate. </p>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 11 2016 19:05:07 for NDK API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
